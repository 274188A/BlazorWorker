<!doctype html>
<html lang="en-us">
  <head>
		<style>
			body {
				padding: 20px;
				background-color:#ffffc9
			  }
				  
			  p { margin : 0; }
		</style>    	  
  </head>
  <body>
	  C# output:
	  <br>
		 <textarea rows="10" cols="100" id="output"></textarea>
	  <br>
		  <button type="button" onclick="App.onClick()" id="button" disabled="true">Run</button>
	  <br>

	  <p><button onclick="App.geoFindMeCSharp()">Show my location</button></p>
	  <div id="out"></div>	  
	
	<script type='text/javascript'>
		const worker = new Worker("worker.js");
		
		var App = {
            onClick: function () {
                console.debug("click!")
                worker.postMessage("Hellowwworld");
                worker.onmessage = function (callback) {
                    App.callback(callback);
                }
			},

            callback: function (message) {
                console.debug("window listener:" + message);
            }
			
		};
        document.getElementById('button').disabled = false;

      </script>
  </body>
  </html>